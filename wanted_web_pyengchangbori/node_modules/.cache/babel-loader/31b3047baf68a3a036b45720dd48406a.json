{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cksgo\\\\Desktop\\\\RC7\\\\Rising_Test\\\\wanted_web_pyengchangbori\\\\src\\\\components\\\\login\\\\LoginEmail.jsx\",\n    _s = $RefreshSig$();\n\nimport { InputContainer } from 'components/common/styled';\nimport React, { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useDispatch } from 'react-redux';\nimport { setLoginModalInvisible } from 'store/action/LoginAction';\nimport axios from 'axios';\nimport styled from 'styled-components';\nimport Signin from './Signin';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction LoginEmail() {\n  _s();\n\n  const dispatch = useDispatch();\n  const [isSignin, setSignin] = useState(false);\n  const [isLoading, setLoading] = useState(true);\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm();\n\n  const handleLoginModalInvisible = () => {\n    dispatch(setLoginModalInvisible());\n  };\n\n  const handleonSubmit = data => {\n    // LoginHandle\n    console.log(data);\n\n    const getLoginResponse = async () => {\n      try {\n        const url = `http://dev.seojin.shop:3000/web/users/email`; // axios.post('/login', { userId : user.id, userPassword : user.password }) .then(function (response) { console.log(response); }) .catch(error => { console.log('error : ',error.response) });\n\n        const res = await axios({\n          method: 'post',\n          url,\n          data: {\n            email: data.email\n          }\n        });\n\n        switch (res.data.code) {\n          case 1001:\n            console.log('로그인 화면으로');\n            break;\n\n          case 1002:\n            // 회원가입\n            setSignin(true);\n            break;\n\n          default:\n        }\n      } catch (error) {\n        throw new Error(error);\n      }\n    };\n\n    getLoginResponse();\n  };\n\n  const handleonError = err => {\n    console.log(err);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [!isSignin ? /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) : /*#__PURE__*/_jsxDEV(Signin, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 25\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n}\n\n_s(LoginEmail, \"0mOH0S/qexMkYCNWNNQPrzBYByk=\", false, function () {\n  return [useDispatch, useForm];\n});\n\n_c = LoginEmail;\nexport default LoginEmail;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginEmail\");","map":{"version":3,"names":["InputContainer","React","useState","useForm","useDispatch","setLoginModalInvisible","axios","styled","Signin","LoginEmail","dispatch","isSignin","setSignin","isLoading","setLoading","register","handleSubmit","formState","errors","handleLoginModalInvisible","handleonSubmit","data","console","log","getLoginResponse","url","res","method","email","code","error","Error","handleonError","err"],"sources":["C:/Users/cksgo/Desktop/RC7/Rising_Test/wanted_web_pyengchangbori/src/components/login/LoginEmail.jsx"],"sourcesContent":["import { InputContainer } from 'components/common/styled';\r\nimport React, { useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setLoginModalInvisible } from 'store/action/LoginAction';\r\nimport axios from 'axios';\r\nimport styled from 'styled-components';\r\nimport Signin from './Signin';\r\n\r\nfunction LoginEmail() {\r\n\tconst dispatch = useDispatch();\r\n\tconst [isSignin, setSignin] = useState(false);\r\n\tconst [isLoading, setLoading] = useState(true);\r\n\r\n\tconst {\r\n\t\tregister,\r\n\t\thandleSubmit,\r\n\t\tformState: { errors },\r\n\t} = useForm();\r\n\r\n\tconst handleLoginModalInvisible = () => {\r\n\t\tdispatch(setLoginModalInvisible());\r\n\t};\r\n\r\n\tconst handleonSubmit = (data) => {\r\n\t\t// LoginHandle\r\n\t\tconsole.log(data);\r\n\t\tconst getLoginResponse = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst url = `http://dev.seojin.shop:3000/web/users/email`;\r\n\r\n\t\t\t\t// axios.post('/login', { userId : user.id, userPassword : user.password }) .then(function (response) { console.log(response); }) .catch(error => { console.log('error : ',error.response) });\r\n\r\n\t\t\t\tconst res = await axios({\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\turl,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\temail: data.email,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\r\n\t\t\t\tswitch (res.data.code) {\r\n\t\t\t\t\tcase 1001:\r\n\t\t\t\t\t\tconsole.log('로그인 화면으로');\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 1002:\r\n\t\t\t\t\t\t// 회원가입\r\n\t\t\t\t\t\tsetSignin(true);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthrow new Error(error);\r\n\t\t\t}\r\n\t\t};\r\n\t\tgetLoginResponse();\r\n\t};\r\n\r\n\tconst handleonError = (err) => {\r\n\t\tconsole.log(err);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{!isSignin ? <></> : <Signin />}\r\n\t\t\t<div />\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default LoginEmail;\r\n"],"mappings":";;;AAAA,SAASA,cAAT,QAA+B,0BAA/B;AACA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,sBAAT,QAAuC,0BAAvC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,MAAP,MAAmB,UAAnB;;;;AAEA,SAASC,UAAT,GAAsB;EAAA;;EACrB,MAAMC,QAAQ,GAAGN,WAAW,EAA5B;EACA,MAAM,CAACO,QAAD,EAAWC,SAAX,IAAwBV,QAAQ,CAAC,KAAD,CAAtC;EACA,MAAM,CAACW,SAAD,EAAYC,UAAZ,IAA0BZ,QAAQ,CAAC,IAAD,CAAxC;EAEA,MAAM;IACLa,QADK;IAELC,YAFK;IAGLC,SAAS,EAAE;MAAEC;IAAF;EAHN,IAIFf,OAAO,EAJX;;EAMA,MAAMgB,yBAAyB,GAAG,MAAM;IACvCT,QAAQ,CAACL,sBAAsB,EAAvB,CAAR;EACA,CAFD;;EAIA,MAAMe,cAAc,GAAIC,IAAD,IAAU;IAChC;IACAC,OAAO,CAACC,GAAR,CAAYF,IAAZ;;IACA,MAAMG,gBAAgB,GAAG,YAAY;MACpC,IAAI;QACH,MAAMC,GAAG,GAAI,6CAAb,CADG,CAGH;;QAEA,MAAMC,GAAG,GAAG,MAAMpB,KAAK,CAAC;UACvBqB,MAAM,EAAE,MADe;UAEvBF,GAFuB;UAGvBJ,IAAI,EAAE;YACLO,KAAK,EAAEP,IAAI,CAACO;UADP;QAHiB,CAAD,CAAvB;;QAQA,QAAQF,GAAG,CAACL,IAAJ,CAASQ,IAAjB;UACC,KAAK,IAAL;YACCP,OAAO,CAACC,GAAR,CAAY,UAAZ;YACA;;UACD,KAAK,IAAL;YACC;YACAX,SAAS,CAAC,IAAD,CAAT;YACA;;UACD;QARD;MAUA,CAvBD,CAuBE,OAAOkB,KAAP,EAAc;QACf,MAAM,IAAIC,KAAJ,CAAUD,KAAV,CAAN;MACA;IACD,CA3BD;;IA4BAN,gBAAgB;EAChB,CAhCD;;EAkCA,MAAMQ,aAAa,GAAIC,GAAD,IAAS;IAC9BX,OAAO,CAACC,GAAR,CAAYU,GAAZ;EACA,CAFD;;EAIA,oBACC;IAAA,WACE,CAACtB,QAAD,gBAAY,qCAAZ,gBAAoB,QAAC,MAAD;MAAA;MAAA;MAAA;IAAA,QADtB,eAEC;MAAA;MAAA;MAAA;IAAA,QAFD;EAAA,gBADD;AAMA;;GA3DQF,U;UACSL,W,EAQbD,O;;;KATIM,U;AA6DT,eAAeA,UAAf"},"metadata":{},"sourceType":"module"}