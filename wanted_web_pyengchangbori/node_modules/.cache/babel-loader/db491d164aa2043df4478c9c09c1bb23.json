{"ast":null,"code":"import React from 'react';\nexport const useLogin = () => {\n  async function LoginWithEmail(data) {\n    const result = await CustomPost({\n      url: '/web/login',\n      body: {\n        email: data.email,\n        password: data.password\n      }\n    });\n\n    switch (result.code) {\n      case 1004:\n        // 로그인 성공\n        batch(() => {\n          dispatch(setLogin({\n            jwt: result.result.jwt,\n            profileImageUrl: result.result.profileImageUrl,\n            userId: result.result.userId\n          })); // dispatch(setLoginModalInvisible());\n        });\n        navigate('/');\n        break;\n\n      default:\n        setInvalidPw(true);\n    }\n  }\n\n  return {\n    LoginWithEmail\n  };\n};","map":{"version":3,"names":["React","useLogin","LoginWithEmail","data","result","CustomPost","url","body","email","password","code","batch","dispatch","setLogin","jwt","profileImageUrl","userId","navigate","setInvalidPw"],"sources":["C:/Users/cksgo/Desktop/RC7/Rising_Test/wanted_web_pyengchangbori/src/hoc/useLogin.js"],"sourcesContent":["import React from 'react';\r\n\r\nexport const useLogin = () => {\r\n\tasync function LoginWithEmail(data) {\r\n\t\tconst result = await CustomPost({\r\n\t\t\turl: '/web/login',\r\n\t\t\tbody: {\r\n\t\t\t\temail: data.email,\r\n\t\t\t\tpassword: data.password,\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tswitch (result.code) {\r\n\t\t\tcase 1004:\r\n\t\t\t\t// 로그인 성공\r\n\t\t\t\tbatch(() => {\r\n\t\t\t\t\tdispatch(\r\n\t\t\t\t\t\tsetLogin({\r\n\t\t\t\t\t\t\tjwt: result.result.jwt,\r\n\t\t\t\t\t\t\tprofileImageUrl: result.result.profileImageUrl,\r\n\t\t\t\t\t\t\tuserId: result.result.userId,\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t);\r\n\t\t\t\t\t// dispatch(setLoginModalInvisible());\r\n\t\t\t\t});\r\n\t\t\t\tnavigate('/');\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tsetInvalidPw(true);\r\n\t\t}\r\n\t}\r\n\r\n\treturn { LoginWithEmail };\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,QAAQ,GAAG,MAAM;EAC7B,eAAeC,cAAf,CAA8BC,IAA9B,EAAoC;IACnC,MAAMC,MAAM,GAAG,MAAMC,UAAU,CAAC;MAC/BC,GAAG,EAAE,YAD0B;MAE/BC,IAAI,EAAE;QACLC,KAAK,EAAEL,IAAI,CAACK,KADP;QAELC,QAAQ,EAAEN,IAAI,CAACM;MAFV;IAFyB,CAAD,CAA/B;;IAQA,QAAQL,MAAM,CAACM,IAAf;MACC,KAAK,IAAL;QACC;QACAC,KAAK,CAAC,MAAM;UACXC,QAAQ,CACPC,QAAQ,CAAC;YACRC,GAAG,EAAEV,MAAM,CAACA,MAAP,CAAcU,GADX;YAERC,eAAe,EAAEX,MAAM,CAACA,MAAP,CAAcW,eAFvB;YAGRC,MAAM,EAAEZ,MAAM,CAACA,MAAP,CAAcY;UAHd,CAAD,CADD,CAAR,CADW,CAQX;QACA,CATI,CAAL;QAUAC,QAAQ,CAAC,GAAD,CAAR;QACA;;MACD;QACCC,YAAY,CAAC,IAAD,CAAZ;IAhBF;EAkBA;;EAED,OAAO;IAAEhB;EAAF,CAAP;AACA,CA/BM"},"metadata":{},"sourceType":"module"}